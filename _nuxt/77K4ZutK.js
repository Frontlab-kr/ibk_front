import{w as a,y as s,s as e,m as t,_ as r}from"./hBzLN_-v.js";import{u as o}from"./B5rvuSVl.js";import{s as i}from"./DvXKQYBp.js";import{s as l,a as d}from"./DqSW7-5V.js";import{s as c}from"./Buxn3Aue.js";import{u}from"./BaaI6JZK.js";import{d as n,r as b,D as m,A as v,o as p,c as y,e as k,a as h,s as _,h as g,t as f,b as N,F as j,f as T,g as D,i as C}from"./BL-uwq_y.js";import"./BjcL5fjy.js";import"./2NKARSpg.js";import"./PTcOg-E-.js";import"./DnSsDbNR.js";import"./Bu99-T5e.js";const L={class:"ibk-inner"},x={class:"ibk-board"},w={class:"ibk-board-head"},E={class:"ibk-board-head__button"},$={class:"ibk-board-list-head"},R={class:"ibk-board-list-head__start"},V={class:"ibk-board-list-head__end"},z={class:"ibk-board-search"},S={class:"ibk-board-search__button"},q={key:0,class:"ibk-board-list"},A={class:"ibk-lectureroom-board-list-item__start"},P={class:"ibk-lectureroom-board-list-item__title"},F={class:"ibk-lectureroom-board-list-item__badge"},U={key:0,class:"ibk-icon-24-clip"},B={class:"ibk-lectureroom-board-list-item__date"},G={key:1},H={class:"ibk-board-list-none"},I={class:"ibk-board-list-none__text"},J={class:"text-primary"},K=n({__name:"manage",setup(n){o({htmlAttrs:{class:"mobile-header-hide"}});const K=u(),M=b(),O=b(0),Q=a(),W=b(Q.query.dutyEdctCd),X=b(Q.query.edctDsprNo),Y=b(""),Z=m({pageNo:1,pageSize:10,searchText:"",dutyEdctCd:W.value,edctDsprNo:Number(X.value)}),aa=async()=>{M.value=[],await K.getCourseLibraryList(Z),K.courseLibraryData.data&&K.courseLibraryData.data.response.contentsNbi>0?(M.value=K.courseLibraryData.data.response.contents,O.value=K.courseLibraryData.data.response.ttalDataNbi,M.value.forEach((a=>{a.cretTs=a.cretTs.length>0?a.cretTs.substring(0,10):""}))):(Y.value=Z.searchText,O.value=0,M.value={success:!0,response:{contents:[],contentsNbi:0,pageNo:1,pageSize:10,totalPages:1,ttalDataNbi:0},error:null})},sa=a=>{Z.pageNo=a.page+1,aa()};return v((async()=>{await aa()})),(a,o)=>{const u=e,n=l,b=c,m=d,v=t,K=r,Q=i;return p(),y("div",L,[k("div",x,[k("div",w,[k("div",E,[h(u,{icon:"ibk-icon-16-arrowleft",label:"목록",severity:"secondary",outlined:"",onClick:o[0]||(o[0]=e=>("navigateTo"in a?a.navigateTo:_(s))(`/myLearn/studyRoom?dutyEdctCd=${W.value}&edctDsprNo=${X.value}`))})])]),k("div",$,[k("div",R,[k("h2",null,[g(" 자료실 "),k("strong",null,f(O.value),1)])]),k("div",V,[k("div",z,[h(m,null,{default:N((()=>[h(n,{class:"ibk-icon-16-search"}),h(b,{placeholder:"검색어를 입력하세요.",modelValue:_(Z).searchText,"onUpdate:modelValue":o[1]||(o[1]=a=>_(Z).searchText=a)},null,8,["modelValue"])])),_:1}),k("div",S,[h(u,{label:"검색",severity:"primary",onClick:aa})])])])]),O.value>0?(p(),y("div",q,[(p(!0),y(j,null,T(M.value,((a,s)=>(p(),D(K,{to:`/course/library/detail?atchNo=${a.atchNo}`,class:"ibk-lectureroom-board-list-item"},{default:N((()=>[k("div",A,[k("div",P,[k("div",F,[h(v,{value:"자료실",style:{background:"#f2f2f2",color:"#5a5e6c"}})]),k("p",null,f(a.ttlNm),1),a.atchCnt>0?(p(),y("i",U)):C("",!0)]),k("div",B,f(a.cretTs),1)])])),_:2},1032,["to"])))),256)),h(Q,{rows:_(Z).pageSize,totalRecords:O.value,onPage:sa},null,8,["rows","totalRecords"])])):(p(),y("div",G,[k("div",H,[k("div",I,[k("span",J,f(Y.value),1),g(" 에 대한 검색 결과가 없습니다. ")]),h(u,{label:"목록으로 돌아가기",severity:"primary",rounded:"",outlined:"",onClick:o[2]||(o[2]=e=>("navigateTo"in a?a.navigateTo:_(s))(`/myLearn/studyRoom?dutyEdctCd=${W.value}&edctDsprNo=${X.value}`))})])]))])])}}});export{K as default};
