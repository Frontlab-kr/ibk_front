import{p as e,w as a,U as l,a as t,s as i}from"./CjiTlq4T.js";import{s}from"./BoaRF2c0.js";import{s as c}from"./BUKTviwj.js";import{u as n}from"./CvlvB0we.js";import{_ as r}from"./B5074a3M.js";import{d as o,r as p,D as m,A as u,o as d,c as v,a as y,b as f,e as b,s as k,F as g,f as Y,v as j,t as D,i as S,h as _,g as A}from"./BL-uwq_y.js";import"./DWkjEWAq.js";import"./CtqHyUr-.js";import"./C4u9NcXW.js";import"./Tok0fehe.js";import"./BLjJVqEY.js";import"./BU5Q6GQO.js";import"./D9XRol3x.js";import"./fpv6nYLj.js";import"./C_A_D3EC.js";import"./BzCqsyQk.js";import"./D-dTK0RR.js";import"./MXjtEwyk.js";import"./CpYj7tfd.js";const w={class:"ibk-apply-center"},C={class:"ibk-apply-center-head"},T=b("div",{class:"ibk-apply-center-head__title"},"연수원 내역",-1),h={class:"ibk-apply-center-head__filter"},R={class:"ibk-apply-center-list"},q={class:"ibk-apply-center-list-item"},x={class:"ibk-apply-center-list-item__text"},E=["onClick"],N={key:0,class:"text-zinc-500"},M={key:1,class:"text-primary"},z={class:"text-gray-900"},I=b("span",null,"적용점수",-1),U=b("span",null,"신청일",-1),V=b("span",null,"입실일",-1),F=b("span",null,"퇴실일",-1),L={class:"ibk-apply-center-list-item__button"},P={key:1,class:"ibk-apply-center-list-item__text"},B=[b("div",{class:"ibk-apply-center-list-item__title"}," 검색결과가 없습니다. ",-1)],G={key:0,class:"ibk-apply-center-more"},H=o({__name:"TrainingDetailTab",setup(o){const H=n(),J=e(),K=p([]),O=a();p(O.query.tab);const Q=p(!0);let W=new Date;const X=m({pageSize:3,pageNo:1,userId:J.userInfo.userId,aplcYmdStart:"",aplcYmdEnd:""}),Z=m({visible:!1,item:X}),$=async()=>{X.pageNo++,Q.value=await H.getTrainingRequestList(X,!1),H.trainingRequestData.contents.forEach((e=>{e.vcfcAplyScr=100-e.vcfcAplyScr;let a=new Date(e.vcfcCkinYmd),l=new Date(a.getTime()-12096e5);e.cancelable="Y"==e.useYn&&W<=l}))},ee=()=>{l.alert("준비중입니다.")},ae=()=>{X.aplcYmdStart="",X.aplcYmdEnd="",X.pageNo=1,K.value=[]},le=async()=>{null!=K.value[0]&&(X.aplcYmdStart=l.formatDateToYYYYMMDD(K.value[0])),null!=K.value[1]&&(X.aplcYmdEnd=l.formatDateToYYYYMMDD(K.value[1])),Q.value=await H.getTrainingRequestList(X,!0),H.trainingRequestData.contents.forEach((e=>{e.vcfcAplyScr=100-e.vcfcAplyScr;let a=new Date(e.vcfcCkinYmd),l=new Date(a.getTime()-12096e5);e.cancelable="Y"==e.useYn&&W<=l}))};return u((async()=>{Q.value=await H.getTrainingRequestList(X,!0),H.trainingRequestData.contents.forEach((e=>{e.vcfcAplyScr=100-e.vcfcAplyScr;let a=new Date(e.vcfcCkinYmd),l=new Date(a.getTime()-12096e5);e.cancelable="Y"==e.useYn&&W<=l}))})),(e,a)=>{const n=c,o=i,p=s;return d(),v(g,null,[y(p,{value:"training"},{default:f((()=>[b("div",w,[b("div",C,[T,b("div",h,[y(n,{modelValue:K.value,"onUpdate:modelValue":a[0]||(a[0]=e=>K.value=e),selectionMode:"range",manualInput:!1},null,8,["modelValue"]),y(o,{label:"전체",severity:"secondary",outlined:"",icon:"ibk-icon-16-filter-all",onClick:ae}),y(o,{label:"검색",severity:"secondary",outlined:"",onClick:le})])]),b("div",R,[k(H).trainingRequestData?.contents.length>0?(d(!0),v(g,{key:0},Y(k(H).trainingRequestData?.contents,((e,a)=>(d(),v("div",q,[b("div",x,[b("div",{class:"ibk-apply-center-list-item__title",onClick:a=>(e=>{Z.visible=!0,Z.item=e})(e),style:{cursor:"pointer"}},[b("strong",{class:j({"text-primary":"10"===e.vcfcAplcScd||"20"===e.vcfcAplcScd,"text-zinc-500":"30"===e.vcfcAplcScd,"text-zinc-400":"40"!==e.vcfcAplcScd||"50"===e.vcfcAplcScd||"60"===e.vcfcAplcScd})},D(e.vcfcAplcScdNm),3),"N"==e.useYn?(d(),v("strong",N,"취소완료")):e.cancelable?(d(),v("strong",M,"취소가능")):S("",!0),_(" "+D(e.fcltPlacTcdNm)+" 연수원 ",1)],8,E),b("ul",null,[b("li",z,[I,b("span",null,D(e.vcfcAplyScr)+"점",1)]),b("li",null,[U,b("span",null,D(e.aplcTs.substring(0,10)),1)]),b("li",null,[V,b("span",null,D(e.vcfcCkinYmd),1)]),b("li",null,[F,b("span",null,D(e.vcfcCcotYmd),1)])])]),b("div",L,[y(o,{label:"우선순위확인",severity:"secondary",class:"text-primary-600",onClick:ee}),e.cancelable?(d(),A(o,{key:0,label:"신청취소",severity:"secondary",outlined:"",onClick:a=>(async e=>{if(await l.confirm("연수원 신청을 취소하시겠습니까?")){const a=await t().mdfcResortFacilityRequestCancel(e);a&&200===a.status?(l.alert("연수원 신청이 취소되었습니다."),await le()):l.alert("취소 처리중 오류가 발생하였습니다")}})(e)},null,8,["onClick"])):S("",!0)])])))),256)):(d(),v("div",P,B))]),Q.value?(d(),v("div",G,[y(o,{icon:"ibk-icon-16-more",iconPos:"right",label:"더보기",link:"",onClick:$})])):S("",!0)])])),_:1}),k(Z).visible?(d(),A(r,{key:0,visible:k(Z).visible,"onUpdate:visible":a[1]||(a[1]=e=>k(Z).visible=e),item:k(Z).item,modal:"",class:"ibk-dialog ibk-dialog-apply",onRefresh:le},null,8,["visible","item"])):S("",!0)],64)}}});export{H as default};
