import{s as e,a as l}from"./GA5mqui0.js";import{u as a,c as i,s as t}from"./Dw9mMgGh.js";import{_ as s}from"./MXjtEwyk.js";import{d as o,r as n,w as c,o as r,c as d,a as u,b as p,e as m,F as f,f as b,g,h as x,t as v,i as y}from"./BL-uwq_y.js";const h={class:"card"},k={class:"flex flex-wrap justify-content-between align-items-center flex-1 gap-4"},w={class:"flex gap-2"},F={class:"flex flex-column gap-8"},C={key:0},j={class:"flex flex-wrap gap-4"},z=["alt","src"],B={key:1,class:"bi bi-file-text","data-pc-section":"icon"},_={class:"font-semibold text-ellipsis max-w-60 whitespace-nowrap overflow-hidden"},M=m("div",{class:"flex align-items-center justify-content-center flex-column"},[m("div",{class:"flex align-items-center justify-content-center border-1 border-circle border-400",style:{width:"60px",height:"60px"}},[m("i",{class:"bi bi-cloud-upload p-4 text-3xl text-gray-500"})]),m("p",{class:"mt-3 mb-0"},"Drag and drop files to here to upload.")],-1),S=o({__name:"FileUploadFormWithDropdown",props:{maxFileSize:{default:1048576e3},accept:{default:""},multiple:{type:Boolean,default:!0},fileLimit:{default:null},modelValue:null},emits:["select","update:modelValue"],setup(o,{emit:S}){a(),i();const V=n(0),L=n(0);n([]);const{modelValue:U}=s("modelValue"),$=o,D=S,I=e=>{U.value=e.files,U.value.forEach((e=>{V.value+=parseInt(G(e.size))})),D("select",e)};c(U,(e=>{}),{deep:!0});const E=e=>e&&["image/jpeg","image/png","image/gif","image/bmp","image/webp"].includes(e.type),G=e=>{const l=["bytes","KB","MB","GB","TB","PB"];if(0===e)return`0 ${l[0]}`;const a=Math.floor(Math.log(e)/Math.log(1024)),i=parseFloat((e/Math.pow(1024,a)).toFixed(3));return l?`${i} ${l[a]}`:0};return(a,i)=>{const s=t,o=e,n=l;return r(),d("div",h,[u(n,{name:"demo[]",multiple:$.multiple,accept:$.accept,maxFileSize:$.maxFileSize,onSelect:I,"file-limit":$.fileLimit},{header:p((({chooseCallback:e,uploadCallback:l,clearCallback:a,files:i})=>[m("div",k,[m("div",w,[u(s,{onClick:l=>e(),icon:"bi bi-cloud-upload",rounded:"",outlined:"",severity:"info"},null,8,["onClick"]),u(s,{onClick:e=>(e=>{e(),V.value=0,L.value=0,U.value=[]})(a),icon:"bi bi-x",rounded:"",outlined:"",severity:"danger",disabled:!i||0===i.length},null,8,["onClick","disabled"])])])])),content:p((({files:e,uploadedFiles:l,removeUploadedFileCallback:a,removeFileCallback:i,messages:t})=>[(r(!0),d(f,null,b(t,(e=>(r(),g(o,{key:e,severity:"error",class:"mb-5",closable:""},{default:p((()=>[x(v(t),1)])),_:2},1024)))),128)),m("div",F,[e.length>0?(r(),d("div",C,[m("div",j,[(r(!0),d(f,null,b(e,((e,l)=>(r(),d("div",{key:e.name+e.type+e.size,style:{"justify-content":"space-between"},class:"p-4 rounded-border flex flex-column border-1 border-100 align-items-center gap-4"},[m("div",null,[E(e)?(r(),d("img",{key:0,role:"presentation",alt:e.name,src:e.objectURL,width:"100",height:"50"},null,8,z)):(r(),d("span",B))]),m("span",_,v(e.name),1),m("div",null,v(G(e.size)),1),u(s,{icon:"bi bi-x",onClick:a=>((e,l,a)=>{l(a),V.value-=parseInt(G(e.size)),L.value=V.value/10})(e,i,l),outlined:"",rounded:"",severity:"warn"},null,8,["onClick"])])))),128))])])):y("",!0)])])),empty:p((()=>[M])),_:1},8,["multiple","accept","maxFileSize","file-limit"])])}}});export{S as _};
