import{u as t}from"./CHO5UxoL.js";import{k as i,w as l,c as s,U as e,s as a}from"./DYWNVjri.js";import{s as o}from"./BMxXDbtK.js";import{a as n}from"./DhGeSsdY.js";import{s as c}from"./B54U87NL.js";import{s as r}from"./CAQuBzuh.js";import{u as m}from"./Dj--RN3Z.js";import{d,r as u,D as b,C as p,z as k,E as v,o as w,c as f,e as y,a as g,b as h,s as _,h as A,t as C,F as j,f as D,i as F,g as I}from"./BL-uwq_y.js";import"./CSVO-9Vq.js";import"./aeYpGHZj.js";import"./B0XsdgCg.js";import"./CM5h0KGV.js";const x={class:"ibk-background"},L={class:"ibk-mobile-back"},O={class:"ibk-write"},q={class:"ibk-inner"},z={class:"ibk-write-content"},B={class:"ibk-write-list"},N={class:"ibk-write-list-item"},P=y("div",{class:"ibk-write-list-item__title"},[y("p",null,"제목")],-1),V={class:"ibk-write-list-item__input"},S={class:"ibk-write-list-item"},U=y("div",{class:"ibk-write-list-item__title"},[y("p",null,"내용")],-1),M={class:"ibk-write-list-item__input"},T={class:"ibk-write-list-item"},Y={class:"ibk-write-list-item__title"},$={class:"ml-2 text-primary"},E={class:"ibk-write-list-file"},G=["item"],H={class:"ibk-write-list-file__text"},J=y("i",{class:"ibk-icon-24-folder"},null,-1),K=y("strong",null,"용량",-1),Q={class:"ibk-write-list-file__delete"},R={class:"ibk-write-list-item"},W=y("div",{class:"ibk-write-list-item__title"},[y("p",null,"파일 업로드하기")],-1),X={class:"ibk-write-list-upload"},Z=y("div",{class:"ibk-write-list-upload__text"},"* 1000MB 미만의 파일 최대 1개까지 첨부 가능합니다.",-1),tt={class:"ibk-write-button"},it={class:"ibk-write-button__button"},lt=d({__name:"edit",setup(d){t({htmlAttrs:{class:"mobile-header-hide"}});const lt=i(),st=l(),et=m();u();const at=u(!1),ot=b({blbrNo:void 0,blbrCtgyId:void 0,blbrPtngId:void 0,bltApowCon:"",bltApowTtlNm:"",useYn:"Y",commonAttachFileOutList:[],commonAttachFileDeleteInList:[]}),nt=p((()=>st.query.blbrPtngId?"MOD":"ADD")),ct=()=>{lt.push("/community")};u();const rt=u({height:300}),mt=s(),dt=()=>{mt.add({severity:"info",summary:"Success",detail:"File Uploaded",life:3e3})},ut=async()=>{if(!at.value)try{let t,i;at.value=!0,"ADD"===nt.value?(t=await et.saveBoardContents(ot),i="/community"):(t=await et.modBoardContents(ot),i=`/community/${ot.blbrPtngId}`),t.success&&(e.alert("정상 처리 되었습니다"),lt.replace(i))}finally{at.value=!1}},bt=async()=>{if(!confirm("정말 삭제하시겠습니까?"))return;(await et.delBoardContents(ot)).success&&(e.alert("정상 처리 되었습니다"),lt.replace("/community"))},pt=()=>{lt.go(-1)};return k((async()=>{st.query.blbrPtngId&&(await et.getBoardContentsDetail({blbrPtngId:Number(st.query.blbrPtngId)}),Object.assign(ot,et.communityBoardContents))})),(t,i)=>{const l=a,s=r,e=v("froala"),m=c,d=n,u=o;return w(),f("div",x,[y("div",L,[g(l,{icon:"ibk-icon-24-arrowleft",label:"목록",link:"",onClick:ct})]),y("div",O,[y("div",q,[g(u,null,{content:h((()=>[y("div",z,[y("div",B,[y("div",N,[P,y("div",V,[g(s,{modelValue:_(ot).bltApowTtlNm,"onUpdate:modelValue":i[0]||(i[0]=t=>_(ot).bltApowTtlNm=t),type:"text",size:"large",placeholder:"제목을 입력해 주세요.",class:"w-full"},null,8,["modelValue"])])]),y("div",S,[U,y("div",M,[g(e,{value:_(ot).bltApowCon,"onUpdate:value":i[1]||(i[1]=t=>_(ot).bltApowCon=t),tag:"textarea",config:_(rt)},null,8,["value","config"])])]),y("div",T,[y("div",Y,[y("p",null,[A("첨부파일 "),y("span",$,C(_(ot).commonAttachFileOutList.length??0),1)])]),y("div",E,[y("ul",null,[_(ot).commonAttachFileOutList.length?(w(!0),f(j,{key:0},D(_(ot).commonAttachFileOutList,((t,i)=>(w(),f("li",{item:t,key:t.atchSqn},[y("div",H,[J,y("div",null,[y("p",null,C(t.orcpFileNm),1)]),K]),y("div",Q,[g(l,{icon:"ibk-icon-24-close",link:"",rounded:"",onClick:l=>((t,i)=>{const l=b({atchId:t.atchId,atchSqn:t.atchSqn,objcDsncVl:t.objcDsncVl});ot.commonAttachFileDeleteInList?.push(l),ot.commonAttachFileOutList?.splice(i,1)})(t,i)},null,8,["onClick"])])],8,G)))),128)):F("",!0)])])]),y("div",R,[W,y("div",X,[g(m),g(d,{mode:"basic",name:"demo[]",url:"/api/upload",accept:"image/*",maxFileSize:1048576e3,onUpload:dt,auto:!0,chooseLabel:"파일 업로드",class:"w-full"}),Z])])]),y("div",tt,[y("div",it,[g(l,{label:"취소",severity:"secondary",outlined:"",size:"large",onClick:pt}),"MOD"===_(nt)?(w(),I(l,{key:0,label:"삭제",severity:"secondary",outlined:"",size:"large",class:"text-red-500",onClick:bt})):F("",!0),g(l,{label:"등록하기",severity:"primary",size:"large",onClick:ut,disabled:_(at)},null,8,["disabled"])])])])])),_:1})])])])}}});export{lt as default};
