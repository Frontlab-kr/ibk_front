import{w as s,p as e,y as a,t,s as o,m as r,_ as l}from"./5NRiTyjF.js";import{u as i}from"./BjLxl0WL.js";import{s as n}from"./g9hi-B3h.js";import{s as c,a as d}from"./wYZ-LfRx.js";import{s as u}from"./CTRh7_Qq.js";import{u as b}from"./BREK6Vy1.js";import{d as v,r as m,D as p,A as k,o as g,c as y,e as T,a as h,s as f,h as _,t as C,b as w,F as N,f as D,g as j,G as Q,i as x}from"./BL-uwq_y.js";import"./DHzAngQL.js";import"./B2Qlle3v.js";import"./C5Spu-TK.js";import"./DtUgzh3z.js";import"./B35e2f4X.js";const $={class:"ibk-inner"},E={class:"ibk-board"},A={class:"ibk-board-head"},S={class:"ibk-board-head__button"},q={class:"ibk-board-list-head"},P={class:"ibk-board-list-head__start"},R={class:"ibk-board-list-head__end"},V={class:"ibk-board-search"},Y={class:"ibk-board-search__button"},z={class:"ibk-board-list-head__write"},I={key:0,class:"ibk-board-list"},L={class:"ibk-lectureroom-board-list-item__start"},F={class:"ibk-lectureroom-board-list-item__title"},G={class:"ibk-lectureroom-board-list-item__badge"},U={key:0,class:"ibk-icon-24-lock"},B={key:1,class:"ibk-icon-24-clip"},H={class:"ibk-lectureroom-board-list-item__date"},J={key:1},K={class:"ibk-board-list-none"},M={class:"ibk-board-list-none__text"},O={class:"text-primary"},W=v({__name:"manage",setup(v){const W=s(),X=m(W.query.dutyEdctCd),Z=m(W.query.edctDsprNo);i({htmlAttrs:{class:"mobile-header-hide"}});const ss=b(),es=m(),as=m(0),ts=m(""),os=e(),rs=p({pageNo:1,pageSize:10,searchText:"",dutyEdctCd:X.value,edctDsprNo:Number(Z.value)}),ls=async()=>{es.value=[],await ss.getCourseQuestionList(rs),ss.courseQuestionData.data&&ss.courseQuestionData.data.response.contentsNbi>0?(es.value=ss.courseQuestionData.data.response.contents,as.value=ss.courseQuestionData.data.response.ttalDataNbi,es.value.forEach((s=>{s.cretTs=s.cretTs.length>0?s.cretTs.substring(0,10):"",s.answCretTs=s.answCretTs&&s.answCretTs.length>0?s.answCretTs.substring(0,10):"",s.period=s.answCretTs.length>0?s.cretTs.replaceAll("-",".")+" ~ "+s.answCretTs.replaceAll("-","."):s.cretTs,s.answText=s.answCretTs&&s.answCretTs.length>0?"답변완료":"답변대기",s.answStyle=s.answCretTs&&s.answCretTs.length>0?"background: #234eaa; color: #ffffff":"background: #e4f2ff; color: #1654d1"}))):(ts.value=rs.searchText,as.value=0,es.value={success:!0,response:{contents:[],contentsNbi:0,pageNo:1,pageSize:10,totalPages:1,ttalDataNbi:0},error:null})},is=s=>{rs.pageNo=s.page+1,ls()};return k((async()=>{await ls()})),(s,e)=>{const i=o,b=c,v=u,m=d,p=r,k=l,W=n;return g(),y("div",$,[T("div",E,[T("div",A,[T("div",S,[h(i,{icon:"ibk-icon-16-arrowleft",label:"목록",severity:"secondary",outlined:"",onClick:e[0]||(e[0]=e=>("navigateTo"in s?s.navigateTo:f(a))(`/myLearn/studyRoom?dutyEdctCd=${X.value}&edctDsprNo=${Z.value}`))})])]),T("div",q,[T("div",P,[T("h2",null,[_(" Q&A "),T("strong",null,C(as.value),1)])]),T("div",R,[T("div",V,[h(m,null,{default:w((()=>[h(b,{class:"ibk-icon-16-search"}),h(v,{placeholder:"검색어를 입력하세요.",modelValue:f(rs).searchText,"onUpdate:modelValue":e[1]||(e[1]=s=>f(rs).searchText=s)},null,8,["modelValue"])])),_:1}),T("div",Y,[h(i,{label:"검색",severity:"primary",onClick:ls})])]),T("div",z,[h(i,{icon:"ibk-icon-16-pencil",label:"글쓰기",severity:"primary",rounded:"",outlined:"",onClick:e[2]||(e[2]=e=>("navigateTo"in s?s.navigateTo:f(a))(`/course/question/write?dutyEdctCd=${X.value}&edctDsprNo=${Z.value}&edctQstnNo=0`))})])])]),as.value>0?(g(),y("div",I,[(g(!0),y(N,null,D(es.value,((s,e)=>(g(),j(k,{onClick:e=>(s=>{const e=ss.courseQuestionData.data.response.contents.find((e=>e.edctQstnNo===s));"Y"!=e.secrtPtngYn||e.cncrId==os.userInfo.userId?a(`/course/question/detail?edctQstnNo=${s}`):t("본인만 확인 가능합니다.")})(s.edctQstnNo),class:"ibk-lectureroom-board-list-item"},{default:w((()=>[T("div",L,[T("div",F,[T("div",G,[h(p,{value:s.answText,style:Q(s.answStyle)},null,8,["value","style"])]),"Y"==s.secrtPtngYn?(g(),y("i",U)):x("",!0),T("p",null,C(s.edctQstnTtlNm),1),s.atchCnt>0?(g(),y("i",B)):x("",!0)]),T("div",H,C(s.cretTs),1)])])),_:2},1032,["onClick"])))),256)),h(W,{rows:f(rs).pageSize,totalRecords:as.value,onPage:is},null,8,["rows","totalRecords"])])):(g(),y("div",J,[T("div",K,[T("div",M,[T("span",O,C(ts.value),1),_(" 에 대한 검색 결과가 없습니다. ")]),h(i,{label:"목록으로 돌아가기",severity:"primary",rounded:"",outlined:"",onClick:e[3]||(e[3]=e=>("navigateTo"in s?s.navigateTo:f(a))(`/myLearn/studyRoom?dutyEdctCd=${X.value}&edctDsprNo=${Z.value}`))})])]))])])}}});export{W as default};
