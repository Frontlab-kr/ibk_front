import{_ as e}from"./5hFH2FQn.js";import{B as t,C as a,d as s,U as n,$ as i,a as r,b as o,k as l,w as c,s as u}from"./DYWNVjri.js";import{a as d}from"./CpYj7tfd.js";import{o as g,c as m,q as h,d as p,D as k,w as b,r as f,e as y,t as v,s as S,h as w,a as x,F as L,f as C,g as _,i as j}from"./BL-uwq_y.js";import{_ as T}from"./CE3ColvO.js";import"./CnS8Irjv.js";import"./Bp18KeQk.js";import"./DCiIT6qj.js";var q=t.extend({name:"skeleton",theme:function(e){var t=e.dt;return"\n.p-skeleton {\n    overflow: hidden;\n    background: ".concat(t("skeleton.background"),";\n    border-radius: ").concat(t("skeleton.border.radius"),';\n}\n\n.p-skeleton::after {\n    content: "";\n    animation: p-skeleton-animation 1.2s infinite;\n    height: 100%;\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n    transform: translateX(-100%);\n    z-index: 1;\n    background: linear-gradient( 90deg, rgba(255, 255, 255, 0), ').concat(t("skeleton.animation.background"),", rgba(255, 255, 255, 0) );\n}\n\n.p-skeleton-circle {\n    border-radius: 50%;\n}\n\n.p-skeleton-animation-none::after {\n    animation: none;\n}\n\n@keyframes p-skeleton-animation {\n    from {\n        transform: translateX(-100%);\n    }\n    to {\n        transform: translateX(100%);\n    }\n}\n")},classes:{root:function(e){var t=e.props;return["p-skeleton p-component",{"p-skeleton-circle":"circle"===t.shape,"p-skeleton-animation-none":"none"===t.animation}]}},inlineStyles:{root:{position:"relative"}}}),z={name:"Skeleton",extends:{name:"BaseSkeleton",extends:a,props:{shape:{type:String,default:"rectangle"},size:{type:String,default:null},width:{type:String,default:"100%"},height:{type:String,default:"1rem"},borderRadius:{type:String,default:null},animation:{type:String,default:"wave"}},style:q,provide:function(){return{$pcSkeleton:this,$parentInstance:this}}},inheritAttrs:!1,computed:{containerStyle:function(){return this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius}}}};z.render=function(e,t,a,s,n,i){return g(),m("div",h({class:e.cx("root"),style:[e.sx("root"),i.containerStyle],"aria-hidden":"true"},e.ptmi("root")),null,16)};const $=s("totalSearch",{persist:!1,state:()=>({masterCourseList:{contents:[],paging:n.defaultPaging()},socialLearning:{contents:[],paging:n.defaultPaging()}}),actions:{async getMasterCourseList(e,t=!1){const a=await i(r().inqMasterCourse(e));this.masterCourseList=t?o(a):{contents:this.masterCourseList?.contents.concat(o(a).contents),paging:o(a).paging}},async getSocialLearning(e,t=!1){const a=await i(r().inqSocialLearning(e));this.socialLearning=t?o(a):{contents:this.socialLearning?.contents.concat(o(a).contents),paging:o(a).paging}}},getters:{}}),M={class:"ibk-inner"},N={class:"ibk-search-result"},P={class:"ibk-search-result-head"},R={class:"ibk-search-result-head__text"},I={class:"text-primary"},X=y("p",null,"검색어를 바르게 입력했는지 확인해 보세요.",-1),B={class:"ibk-search-result-body"},A={class:"ibk-search-result-item"},D={key:0},E={key:1},F={class:"ibk-search-result-list"},J={class:"ibk-search-result-list-more"},U={class:"ibk-search-result-item"},G={key:0},H={key:1},K={class:"ibk-social-list"},O={class:"ibk-search-result-list-more"},Q=p({__name:"TotalSearchManage",setup(t){const a=$();l();const s=c(),i=d(),r=k({master:{pageNo:1,pageSize:10,searchText:""},social:{pageNo:1,pageSize:10,searchText:""}});b((()=>s.query.searchText),(()=>{r.master.searchText=s.query.searchText,r.social.searchText=s.query.searchText,h("all",!0)}),{deep:!0,immediate:!0});const o=f(!1);async function h(e="all",t=!1){t&&"all"!==e&&(r[e].pageNo=1),"all"==e&&(r.master.pageNo=1,r.social.pageNo=1),i.value&&t&&(o.value=!0);try{"master"!==e&&"all"!==e||await a.getMasterCourseList(r.master,t),"social"!==e&&"all"!==e||await a.getSocialLearning(r.social,t)}finally{i.value&&(o.value=!1)}}const p=(e="master")=>{r[e].pageNo++,h(e,!1)};return(t,i)=>{const r=z,l=e,c=u;return g(),m("div",M,[y("div",N,[y("div",P,[y("div",R,[y("span",I,v(S(s).query.searchText),1),w(" 검색결과입니다.")]),X]),y("div",B,[y("div",A,[y("h5",null,[w("연수명 "),y("span",null,v(S(a).masterCourseList?.paging.totalCount),1)]),S(o)?(g(),m("div",D,[x(r,{class:"w-full h-20 mb-2"}),x(r,{class:"w-full h-20 mb-2"}),x(r,{class:"w-full h-20 mb-2"})])):(g(),m("div",E,[y("div",F,[(g(!0),m(L,null,C(S(a).masterCourseList?.contents,((e,t)=>(g(),_(l,{item:e,key:`${e.dutyEdctCd}_${t}`},null,8,["item"])))),128))]),y("div",J,[S(n).hasMore(S(a).masterCourseList?.paging)?(g(),_(c,{key:0,icon:"ibk-icon-16-more",iconPos:"right",label:"더보기",link:"",onClick:i[0]||(i[0]=e=>p("master"))})):j("",!0)])]))]),y("div",U,[y("h5",null,[w("소셜러닝 "),y("span",null,v(S(a).socialLearning?.paging.totalCount),1)]),S(o)?(g(),m("div",G,[x(r,{class:"w-full h-20 mb-2"}),x(r,{class:"w-full h-20 mb-2"}),x(r,{class:"w-full h-20 mb-2"})])):(g(),m("div",H,[y("div",K,[(g(!0),m(L,null,C(S(a).socialLearning?.contents,((e,t)=>(g(),_(T,{key:`${e.blbrPtngId}_${t}`,item:e},null,8,["item"])))),128))]),y("div",O,[S(n).hasMore(S(a).socialLearning?.paging)?(g(),_(c,{key:0,icon:"ibk-icon-16-more",iconPos:"right",label:"더보기",link:"",onClick:i[1]||(i[1]=e=>p("social"))})):j("",!0)])]))])])])])}}}),V=p({__name:"index",setup:e=>(e,t)=>(g(),_(Q))});export{V as default};
